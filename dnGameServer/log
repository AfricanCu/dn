俱乐部房间 一直没有点准备，，然后房间一直占着，，需要解散
1.如果房间有人并人都是死的，，如果不是俱乐部房间2个小时自动解散，，如果是俱乐部房间5分钟自动解散
2.如果房间一个人都没有，说明是俱乐部房间，1分钟马上解散
钻石消耗统计
俱乐部游戏是否开始
加入游戏均衡的东西 累计最近十局输的超过300分，，在低于牛5的情况下，提高牛5-7概率%30


























mysqldump -hlocalhost -P3306 -uroot -p1234 mydb mytable  --hex-blob> "d:\exportdata.sql"

飞宝玩法，出现碰了宝牌后，当局单调无法接炮
翻数封顶！！！！！！！！！

mysql -umajiang -pMj123456987 -hrm-wz91szcv5egx4cx38.mysql.rds.aliyuncs.com
channel close 不掉

南风 东风是宝牌？？？
一轮牌，，第一个不胡 第二个不能胡



同一个ip不能入房 ok！
最后一盘只要有一个点准备，，就弹结算
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
公会各种切服情况都要考虑！！！！！！！！！！！！！！！！！
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

/www/web/url1_99/public_html/thj/thj3dmj
/www/web/updata_91/public_html/3dmj0908
http://updata.99thj.com/thj3dmj
dbserip=192.168.0.219 
dbuser=thj
dbpassword=thjgame123987

玩家已经没有房间了离线了，，但是还在缓存中，这个有点奇怪
报听普通牌不能接炮!!!!!!!!!!!!!!!!!!!
客户端切服没有测试！！！!!!!!!!!!!!!!!!!!!!!
登录服连不上gs抛出错误！然后过一段时间，服务器状态也不打印了！！！！！netty client gracefullyhutdown sync 这里有问题，，去掉sync可以了
user.setState 超级bug！！！！！！！！

压力测试 把数据库清一下
把日志文件清一下

大概看了一下以前写的代理开房，，这块可能存在很多bug！！！！！！！！！！！！！！！！！！！！！！！！

两个清一色什么鬼？？？？？？？
[[1 2 2 1 0 2 2 2 2 ]  [7]  [1 2 2 1 0 2 2 1 2 ], 
[1 2 2 1 1 2 2 1 2 ]  [4]  [1 2 2 1 0 2 2 1 2 ], 
[1 2 2 1 0 1 2 2 1 2 ]  [4]  [1 2 2 1 0 2 2 1 2 ]]

超级bug 后两个牌型，，混淆在一起了，，



back 有时候会空？？？？？？？

lru user 如果有 房间，，删除否，，有超级bug


惊天大bug ,双豪华天胡七小对不能自摸
一万,1##一万,2##一万,3##一万,4##二万,5##二万,6##二万,7##二万,8##三万,9##三万,10##四万,11##四万,12##五万,13##四万,14##九万,15##九万,16##三索,17##三索,18##五索,19##六索,20##七索,21##九索,22##九索,23##四筒,24##五筒,25##九筒,26##七万,27##八万,28##四索,29##五索,30##五索,31##五索,32##七索,33##八索,34##一筒,35##一筒,36##六筒,37##七筒,38##七筒,39##六万,40##七万,41##九万,42##二索,43##三索,44##四索,45##九索,46##一筒,47##二筒,48##五筒,49##八筒,50##九筒,51##九筒,52##五万,53##六万,54##六万,55##七万,56##八万,57##八万,58##八索,59##八索,60##一筒,61##三筒,62##五筒,63##八筒,64##九筒,65##二索,66##四索,67##六索,68##八索,69##二筒,70##二筒,71##三筒,72##四筒,73##五筒,74##六筒,75##六筒,76##八筒,77##八筒,78##三万,79##九万,80##一索,81##二索,82##二索,83##六索,84##七索,85##七索,86##九索,87##三筒,88##三筒,89##四筒,90##七筒,91##三万,92##四万,93##五万,94##六万,95##七万,96##一索,97##一索,98##一索,99##四索,100##六索,101##二筒,102##六筒,103##七筒,104##四筒,105##三索,106##八万,107##五万,108##

平胡抢杠胡
抢杠胡超级bug

房间解散不用发？
接炮之前自摸的鸟还发
房间状态，，抢杠胡
如果是你听了三六条的牌，对门打三条你不胡紧跟着上家又打六条伱一样不能胡
一轮之内两个接炮，，第一次不接，，不能再接
有一张海底没抓。。
牌错误也能胡牌？？？？？？？？

抓了一个牌，，就计算打哪个牌可以听牌，，（可以考虑去掉一些无用的计算，，比如某种牌型根本不可能听牌？？但是暂时没有好的办法，所以这里没有考虑优化）

抓了一个牌，，打 的也是这个牌，，那牌型可以不用重新计算

抓了一个牌，，打的是另一个牌，，那牌型要重新计算


起手清一色没有计算出来？？

初始化牌列表，测试报听，，天胡  ，，地胡

天胡 地胡
选择过,,要把这些胡牌类型去掉，，
选择过，，这种测试用例出来




下庄准备才解散房间
登录超时
代理充值界面频繁的随意操作会出现bug
登录bug
充值超时bug

3、游戏结束那里  如果游戏真结束了（见牛翻最后一个庄家下了，或者最后一局）（公牛再不能连庄的时候最后一个庄下了，或者最后一个庄，庄家选择不连庄，下庄），这个时候都算游戏结束

充值代码优化
查询apple回执单有个大bug
推送结果到代理

代理的充值没有及时到账
加钻有延迟现实的 问题
加钻记录里面加一个昵称的显示

需要想着怎么把日志做到全而不腻！！！！！！！！！！

中途结算没亮牌算
游戏重启，，30分钟内不能建立房间

扣钻石实现
测试切换服务器

!!!!苹果审核!!!!!
加一个是否连庄的配置
创建房间是否要钻石
小妞赢大牛
最后已经下，，店准备菜下


随机房间号这里可能要做一个存储过程！

发送消息都可以做一些优化，message->byte[]

liznlixing1988-oss


登录VIP账号17508447332密码tt123456
zxcvbnmlizn1988.
208275
Nniuzxcvbnm51.


db
niuniu
SelectChannelConnector8115
91430102MA4LNWDM9C
张辽燃
43018119821024395X
湖南省长沙市芙蓉区东屯渡街道农科村安置房防水市场A区20栋1单元1楼门面



















同意完没有广播删除申请列表ok
微型客户端item bug
关服时保存缓存数据ok
保证通信的安全性和可修复性ok
好友请求列表没有广播ok
别人在线重登没有踢人！！！！！！！！！！！！！！
修改挂起ok
准备好了不踢？开房模式不踢，匹配没得踢
继续修改切服bug
房主开房的时候切出，断线重连，没有发开始ok
1.玩家登陆服务器改变，有以下触发条件：切换服务器（服务器列表选择，魔窗房间登陆，游戏中断socket切服）

2.有个概率性的 bug,玩家在房间内断线重连的时候，是 收不到任何状态机消息的，如果在这一瞬间发生了状态机的改变，不好搞！

3.微型im
	<a>当一个好友请求过来，如果这个服务器能找到这个玩家数据（玩家必须是登陆），就更新它的数据，否则到对应登陆的（记住是在线的）服务器去更新，如果没有一个服务器上有数据，则数据库获取数据后更新保存ok
4.断线重连
	<a>这样子，我服务端通过心跳判断，如果30秒内都没有心跳，直接过麦，，也不用客户端发什么其他消息ok
	<b>游戏内无缝重连ok
5.LRU有个超级bug！！！get put 都会改变它的访问次序ok
6.机器人发不出消息？？？
7.复盘数据存档
8.数据丢失问题！！严重
9.注销要重新命名
10.log文件没写入是什么原因
11.secur 看看能不能继续封装？？？
12.测试一下切服的bug
13.channel  netty有总开关，游戏内看看要不要关
14.玩家数据要定时保存，切服的玩家则不保存
15.微信登录授权 超时bug
16.每次 保存 数据的 条目数 加个限制 


客户端与服务端心跳的意义：
	客户端断开了，服务端可能没能检测到，只能通过心跳判断（它检查不到机器断电、网线拔出、防火墙这些断线。）


注意：
	<1>有个小bug 机器人名字在redis中有了，就不能再用了，所以用flushdb、
	<2>避免加锁
没有警长两票ok
log
任务总计数数bug,,ok
日常任务未重置ok
严重错误！！！客户端收不到消息ok
死左思右没有警长默认ok
数据保存，，userbean user覆盖有严重问题？？ok
！！！！！！！！！！！！！！！房间创建好，如果突然宕机 ，，房间要在下次启动的时候归还！！！！！！！！！！！！！！！！ok

匹配 不能切服 ok
本森胃痛 脏词 ok
老账号  进游戏的时候  还要我输入名字 ok

--
断线重连消息生成和状态机开始消息生成 ok
玩家请求在状态机移除之前几百毫秒 ok
--
推送角色信息更新:不要一改变就推，在做完操作后检测有没有必要推 ok
创建房间不切服 如果连接数已满，提示到其他服务器创房 要切服
加入房间在另一服务器上要切服 ok
消息没收到导致游戏暂停还是心跳问题？
消息长度有误！什么问题？？？？？？？？这个是我这边微型客户端的问题 
检测阴阳人 ok
平票了 不能投自己 ok
断线准备不能开始 ok
任务标记错误 ok
游戏记录没有 ok
登录服务器列表发送 ok
实力判断ok
！！消息 不能同时发？？？

下周工作计划：
1、功能验收（许泽峰）
2、UI验收（龙文）
3、收集玩家反馈功能（海洲 李星）
4、角色介绍（黄滨）
5、收费点（大家都想下，具体实现根据需求再分配人手）

本周待完成工作：
1、战场内头顶信息重新设计（黄滨）
2、出局后退出游戏，系统按钮内（黄滨）
3、开房间配置（黄滨）
4、周边系统验收未完成功能（海洲）

断线准备不能开始

人数满，，则不能登录
房间数到


日志写文件 和不写文件的开关
错误记录到日志文件
其他写在输出中

tcp连接断开检查

猎人没有开枪，身份暴露
没有投票阶段，也有弃票信息
1.5票
防沉迷
经验减半
csconnectI sharable有bug

测试复盘
优化redis
优化匹配同步
切换服务器

record没有
是否房主
开始游戏
模式
死亡退出房间
房主掉线不踢，其他人掉线都踢


！！！！！！！！！！！！！！！！！！！！！玩完可以切服
登陆sessioncode 错误！！！！！






测试服
120.76.208.38:3391
Testlrs001


如何保证时效和消息处理的原子性

时效这个东西有个坑，如果抛异常不捕捉会不打印
后期有时间优化一下

ibatis 也有一个坑

狼自爆带走猎人，警长被猎人带走

2.4
测试逻辑
2.8
buffer有空了解一下
2.9
联调
2.10
优化代码
定一下断线重连的信息记录
玩家数据保存：断线时整体保存 ，在线时时效保存

2.27
1.配置redis
2.邮件系统协议

猎人遗言



